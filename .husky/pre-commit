#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo 'ğŸ™‚ Please be patient, this may take sometime...â³'

echo 'ğŸ‘·ğŸ»âš’ï¸ Styling your code before committing...'
yarn format-write

echo 'ğŸ‘®ğŸ»ğŸ” Checking Styles in your code before committing...'
yarn format-check

echo 'ğŸ‘®ğŸ»ğŸš¨ Making sure no linting errors in your code before committing...'
yarn lint ||
(

    echo 'âš ï¸ Oopsâ—, you have a problem in your code. Check linter âŒâš’ï¸
          ğŸ’¡Run yarn lint, add changes & try committing again.ğŸ‘ğŸ»';
    false;
)

echo 'ğŸ‘®ğŸ»ğŸš¨ Making sure no typescript errors in your code before committing...'
yarn type-check ||
(

    echo 'âš ï¸ Oopsâ—, you have a type error in your code. Check types âŒâš’ï¸
          ğŸ’¡Run yarn type-check, add changes & try committing again.ğŸ‘ğŸ»';
    false;
)

echo 'ğŸ‰ All checks passed âœ…, committing your code...âœ¨ğŸš€ğŸ„â€â™‚ï¸ğŸ»'